<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Norway New Car Sales (2007–2016)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

  <style>
    body {
      background-color: #e9ecef;
    }

    .custom-nav {
      background-color: #6c757d;
    }

    .custom-nav .navbar-brand {
      color: #fff !important;
    }

    .custom-nav .navbar-brand:hover {
      color: #d9d9d9 !important;
    }

    .box {
      background: #fff;
      border-radius: 12px;
      padding: 18px;
      margin-bottom: 18px;
    }

    .custom-nav .navbar-brand {
      padding: 6px 12px;
      border-radius: 6px;
      transition: 0.3s;
    }

    .custom-nav .navbar-brand:hover {
      background-color: lightgrey;
      color: black !important;
    }
  </style>
</head>

<body class="container mt-4">

  <nav class="navbar custom-nav rounded mb-4 px-3">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Home</a>
      <a class="navbar-brand" href="#graph">Data Visualisation</a>
      <a class="navbar-brand" href="#analysis">Analysis</a>
      <a class="navbar-brand" href="#limitations">Limitations</a>

    </div>
  </nav>
  <main>
    <header class="text-center mb-4">
      <h1 class="display-6 fw-bold">New Car Sales in Norway (2007–2016)</h1>
      <p class="text-muted">Two charts to show the overall trend and the top-selling make each year.</p>
    </header>

    <section>
      <h5 class="text-center mt-5">Total New Car Sales in Norway (2007–2016)</h5>
      <div id="graph">

        <div class="d-flex justify-content-center">
          <div style="width:700px;">
            <canvas id="mostSoldChart"></canvas>
          </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
          crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

        <h5 class="text-center mt-4">Most Sold Car Makes Per Year (2007–2016)</h5>
        <div class="d-flex justify-content-center">
          <div style="width:700px;">
            <canvas id="carSalesChart"></canvas>
          </div>
        </div>

    </section>
    <article id="analysis" class="custom-nav rounded mb-4 p-4 ">
      <h2>Analysis of Graph 1: </h2>
      <h5>Key Findings:</h5>
      <p> • Car sales began to decline between 2007 to 2009.</p>
      <p> • Sales began to recover and improve from 2010.</p>
      <p> • There was a significant increase of sales from 2013.</p>
      <p> • 2016 is the year with the highest record of sales in the dataset.</p>
      <p> • 2009 is the year with the lowest record of sales in the dataset.</p>
    </article>

    <article id="analysis" class="custom-nav rounded mb-4 p-4 ">
      <h2>Analysis of Graph 2: </h2>
      <h5>Key Findings:</h5>
      <p> • Toyota was the most sold car brand in 2007, 2008 and 2013.</p>
      <p> • Volkswagen has the most sales from 2009 to 2012 and again in 2014 to 2016.</p>
      <p> • 2016 recorded the highest figure of sales overall for a single brand (Volkswagen).</p>
      <p> • This graph shows that Volkswagen became more popular over time.</p>
    </article>

    <article id="limitations" class="custom-nav rounded mb-4 p-4 ">
      <h2>Limitations: </h2>
      <p> • This data is from 2007-2016, so this may not reflect trends from 2017 - present. </p>
      <p> • Factors such as the cost of fuel and other inflation costs may affect these findings. </p>
    </article>
  </main>
  <script>
    const ctx2 = document.getElementById("mostSoldChart").getContext("2d");


    new Chart(ctx2, {

      type: 'line',
      data: {
        labels: ['2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016'],
        datasets: [{
          label: 'Number of Cars Sold',
          data: [69749, 57789, 49373, 61572, 64009, 66150, 76770, 72234, 78947, 93016],
          borderWidth: 2,
          tension: 0.3,
          fill: false
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: true,
            labels: {
              font: { size: 14 }
            }
          },
          tooltip: { enabled: true }
        },
        scales: {
          y: {
            title: {
              display: true,
              text: 'Cars Sold',
              font: { size: 16 }
            },
            ticks: {
              font: { size: 13 }
            }
          },
          x: {
            title: {
              display: true,
              text: 'Year',
              font: { size: 16 }
            },
            ticks: {
              font: { size: 13 }
            }
          }
        }
      }
    });
  </script>
  <script>
    const ctx = document.getElementById("carSalesChart");

    const years = [
      "2007",
      "2008",
      "2009",
      "2010",
      "2011",
      "2012",
      "2013",
      "2014",
      "2015",
      "2016",
    ];
    const unitsSold = [
      18437, 12503, 11051, 16118, 18223, 16560, 15145, 18285, 22074, 22535,
    ];
    const makes = [
      "Toyota",
      "Toyota",
      "Volkswagen",
      "Volkswagen",
      "Volkswagen",
      "Volkswagen",
      "Toyota",
      "Volkswagen",
      "Volkswagen",
      "Volkswagen",
    ];

    const colors = [
      "lightblue",
      "lightblue",
      "lightgreen",
      "lightgreen",
      "lightgreen",
      "lightgreen",
      "lightblue",
      "lightgreen",
      "lightgreen",
      "lightgreen",
    ];

    const borderColors = [
      "lightblue",
      "lightblue",
      "lightgreen",
      "lightgreen",
      "lightgreen",
      "lightgreen",
      "lightblue",
      "lightgreen",
      "lightgreen",
      "lightgreen",
    ];

    new Chart(ctx, {
      type: "bar",
      data: {
        labels: years,
        datasets: [
          {
            label: "Units Sold",
            data: unitsSold,
            backgroundColor: colors,
            borderColor: borderColors,
            borderWidth: 1,
          },
        ],
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: function (context) {
                const yearIndex = context.dataIndex;
                return makes[yearIndex] + ": " + context.raw + " units";
              },
            },
          },
        },
        scales: {
          y: {
            beginAtZero: true,
            title: { display: true, text: "Units Sold" },
          },
          x: {
            title: { display: true, text: "Year" },
          },
        },
      },
    });
  </script>


  <footer class="text-center small-muted">
    Built with Bootstrap + Chart.js • Group 15
  </footer>
</body>

</html>